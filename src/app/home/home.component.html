<head>
  <title>Home | Sholi</title>
</head>
<div>
  <nav class="navbar">
    <div class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i id="nav_user" class="bi bi-person-circle"></i>
      </a>
      <div class="dropdown-menu" aria-labelledby="nav_user">
        <a routerLink="profile" class="dropdown-item">
          <i id="nav_usersettings" class="bi bi-person-square"> Profile</i>
        </a>
        <div class="dropdown-divider"></div>
        <a routerLink="settings" class="dropdown-item">
          <i id="nav_settings" class="bi bi-gear-fill"> Settings</i>
        </a>
        <div class="dropdown-divider"></div>
        <a routerLink="faq" class="dropdown-item">
          <i id="nav_questions" class="bi bi-question-circle-fill"> Help</i>
        </a>
        <div class="dropdown-divider"></div>
        <a routerLink="logout" class="dropdown-item">
          <i id="nav_logout" class="bi bi-door-open-fill"> Sign-Out</i>
        </a>
      </div>
    </div>
  </nav>
</div>

<div class="container">
  <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
    <div>
      <button id="button_createNewList" type="button" class="btn btn-dark" data-bs-toggle="modal"
              data-bs-target="#show_modal"><i
        id="plus_createNewList" class="bi bi-plus">New List</i>
      </button>
    </div>
    <div id="listDiv" class="overflow-auto card border-0 shadow rounded-3 my-5" style="min-height: 631px">

    </div>

    <div class="modal fade" id="show_modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
      <form id="formForCreateList" #listInfoForm="ngForm"
            (ngSubmit)="createNewList(listInfoForm.value.newList_name,true); clearForm(listInfoForm)">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modal-title">Create new list?</h5>
              <button type="button" class="btn close" data-bs-dismiss="modal"
                      aria-label="Close">X
              </button>
            </div>
            <div class="modal-body">
              <div class="form-floating">
                <input autocomplete="off" class="form-control" type="text" name="newList_name" id="newListName"
                       placeholder="name" ngModel
                       required>
                <label class="form-check-label" for="newListName">Name for the new list</label>
              </div>
              <br>
              <div class="form-check form-switch" id="toggleButton">
                <input (click)="closePopUpForListName()" class="form-check-input" type="checkbox" name="isShared"
                       id="isShared" ngModel required>
                <label for="isShared">Want to share the list?</label>
              </div>
              <br>
              <div *ngIf="!isPopUpDisplayed" class="form-floating">
                <input class="form-control" type="text" name="sharedUSers" id="sharedUSers" placeholder="user" disabled
                       ngModel required>
                <label for="sharedUSers">Usernames for sharing</label>
              </div>
              <div *ngIf="isPopUpDisplayed" class="form-floating">
                <input matInput [formControl]="myControl" [matAutocomplete]="auto" autocomplete="off"
                       class="form-control"
                       type="text" name="sharedUSers1"
                       id="sharedUSers1" placeholder="user" ngModel required multiple>
                <label for="sharedUSers1">Usernames for sharing</label>
                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"
                                  (optionSelected)='addValue($event.option.value); removeItem($event.option.value)'>
                  <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                    <div class="overflow-auto">
                      {{option}} <i class="float-right bi bi-person-plus"></i>
                    </div>
                  </mat-option>
                </mat-autocomplete>
              </div>
              <br>
              <div *ngIf="isPopUpDisplayed" class="form-group">
                <label for="addedUsersTextArea">Added Users:</label>
                <textarea class="form-control" id="addedUsersTextArea" rows="3" readonly></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary" data-bs-dismiss="modal"
                      aria-label="Close">Create
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
