<div id="mainDiv" class="container">
  <div class="mx-auto">
    <div class="">
      <button id="add_product_from_DB" type="button" class="btn btn-dark" data-bs-toggle="modal"
              data-bs-target="#modal_addProduct"><i class="bi bi-card-checklist">Add Product</i>
      </button>
      <button id="add_product" type="button" class="btn btn-dark float-right" data-bs-toggle="modal"
              data-bs-target="#modal_createProduct"><i
        id="plus_addProduct" class="bi bi-plus">New Product</i>
      </button>
    </div>

    <div class="card border-0 shadow rounded-3 my-5" style="min-height: 631px;">
      <u><h1 class="text-center" style="font-family:'Square Peg, cursive'">Liste: {{listname}}</h1></u>
      <div id="productList" class="overflow-auto" style="height:631px;">
        <mat-grid-list cols="4" rowHeight="50px" *ngFor="let options of receivedProductsOfList">
          <mat-grid-tile>
            <i style="padding-bottom: 8px; padding-right: 8px" class="bi bi-dash"></i>
            <mat-form-field floatLabel="always">
              <input matInput [value]="options.name" readonly>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile>
            <mat-form-field floatLabel="always">
              <input matInput [value]="options.price" readonly>
              <span matPrefix>€</span>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile>
            <input *ngIf="options.ticked==1" class="form-check-input" type="checkbox" id="checkboxNoLabel" checked>
            <input *ngIf="options.ticked==0" class="form-check-input" type="checkbox" id="checkboxNoLabel1">
          </mat-grid-tile>

          <mat-grid-tile>
            <i class="bi bi-trash-fill" style="cursor: pointer" data-toggle="modal"
               data-target="#modal_deleteProductOfList"></i>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modal_deleteProductOfList" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Produkt aus Liste löschen?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Wenn dieses Produkt gelöscht wird, ist es nichtmehr da!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="deleteProductFromList()" type="button" class="btn btn-primary" data-dismiss="modal">Go!
        </button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="modal_createProduct" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Create a Product!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Search!</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="modal_addProduct" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Choose a Categorie!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div *ngIf="!isProductKategorieChoosed">
        <div class="modal-body" style="justify-content: center">
          <mat-grid-list id="gridList" cols="2" rowHeight="100px">
            <mat-grid-tile (click)="choosedCategorie(options)" [id]="options" class="options rounded"
                           *ngFor="let options of productCategories">{{options}}</mat-grid-tile>
          </mat-grid-list>
        </div>
      </div>
      <div *ngIf="isProductKategorieChoosed">
        <div class="modal-body">
          <div id="selectDiv">
            <mat-form-field>
              <mat-label>Products</mat-label>
              <mat-select [formControl]="myControl" [(value)]="selectedProducts" multiple>
                <mat-option style="color: black" *ngFor="let option of receivedProductsOfCategory"
                            [value]="option">{{option.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div *ngIf="!isProductKategorieChoosed" class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="transmitProductCategorie()" type="button" class="btn btn-primary">Search!</button>
      </div>
      <div *ngIf="isProductKategorieChoosed" class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="addProductsToList()" type="button" class="btn btn-primary">Search!</button>
      </div>
    </div>
  </div>
</div>
